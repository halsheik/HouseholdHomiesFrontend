{"ast":null,"code":"var _jsxFileName = \"/Users/hossamalsheikh/Documents/Umich/EECS441/HouseholdHomiesFrontend/src/components/users/createGroupForm.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass createGroupForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      houseName: \"\",\n      members: [{\n        name: \"\",\n        number: \"\"\n      }],\n      chores: [\"\"],\n      errors: []\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  addClick() {\n    this.setState(prevState => ({\n      members: [...prevState.members, {\n        name: \"\",\n        number: \"\"\n      }],\n      chores: [...prevState.chores, \"\"]\n    }));\n  }\n\n  createUI() {\n    return this.state.members.map((el, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"John Smith\",\n        name: \"name\",\n        value: el.name || '',\n        onChange: this.handleChange.bind(this, i)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"+1##########\",\n        name: \"number\",\n        value: el.number || '',\n        onChange: this.handleChange.bind(this, i)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"button\",\n        value: \"remove\",\n        onClick: this.removeClick.bind(this, i)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 15\n      }, this)]\n    }, i, true, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 10\n    }, this));\n  }\n\n  createUIDChores() {\n    return this.state.chores.map((el, i) => i === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Chores\",\n        name: \"chores\",\n        value: \"Organizer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 70\n      }, this)\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 57\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Chores\",\n        name: \"chores\",\n        value: el,\n        onChange: this.handleChangeChores.bind(this, i)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 154\n      }, this)\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 141\n    }, this));\n  }\n\n  handleChange(i, e) {\n    const {\n      name,\n      value\n    } = e.target;\n    let members = [...this.state.members];\n    members[i] = { ...members[i],\n      [name]: value\n    };\n    this.setState({\n      members\n    });\n  }\n\n  handleChangeChores(i, e) {\n    const {\n      value\n    } = e.target;\n    let chores = [...this.state.chores];\n    chores[i] = { ...chores[i],\n      value\n    };\n    this.setState({\n      chores\n    });\n  }\n\n  handleHouseNameChange(e) {\n    this.setState({\n      houseName: e.target.value\n    });\n  }\n\n  removeClick(i) {\n    let members = [...this.state.members];\n    members.splice(i, 1);\n    let chores = [...this.state.chores];\n    chores.splice(i, 1);\n    this.setState({\n      members,\n      chores\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    console.log(this.state);\n    axios.post(\"http://localhost:4000/createGroup\", this.state).then(response => {\n      this.setState({\n        errors: []\n      }); //setInterval for every week\n\n      setInterval(() => {\n        axios.put(\"http://localhost:4000/updateHead\").then(response => {});\n      }, 604800000); //setInterval for every day\n\n      setInterval(() => {\n        axios.get(\"http://localhost:4000/sendChores\").then(response => {//all good and text shouldve sent\n        });\n      }, 864000);\n      console.log(response);\n\n      if (response.status === 200 && response.data === \"OK\" && window) {\n        console.log(\"redirecting to homepage\");\n        this.setState({\n          members: [],\n          chores: []\n        });\n        window.location.href = \"/\";\n      } else {\n        this.setState({\n          errors: response.data\n        });\n        console.log(this.state);\n      }\n    }).catch(err => console.log(err.data));\n  }\n\n  render() {\n    const {\n      houseName\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: this.handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Add all household members' name and number\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }, this), this.createUI(), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"button\",\n        value: \"add more\",\n        onClick: this.addClick.bind(this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"For the first chore box please input \\\"Organizer\\\"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Evenly split chores into n-1 groups for the other boxes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }, this), this.createUIDChores(), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default createGroupForm;","map":{"version":3,"sources":["/Users/hossamalsheikh/Documents/Umich/EECS441/HouseholdHomiesFrontend/src/components/users/createGroupForm.js"],"names":["React","axios","createGroupForm","Component","constructor","props","state","houseName","members","name","number","chores","errors","handleSubmit","bind","addClick","setState","prevState","createUI","map","el","i","handleChange","removeClick","createUIDChores","handleChangeChores","e","value","target","handleHouseNameChange","splice","event","preventDefault","console","log","post","then","response","setInterval","put","get","status","data","window","location","href","catch","err","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios  from 'axios';\n\n\nclass createGroupForm extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n          houseName: \"\",\n          members: [{name: \"\", number: \"\"}],\n          chores: [\"\"],\n          errors: []\n      };\n      this.handleSubmit = this.handleSubmit.bind(this);\n    }\n    \n    addClick(){\n      this.setState(prevState => ({ \n          members: [...prevState.members, { name: \"\", number: \"\" }],\n          chores: [...prevState.chores, \"\"]\n      }))\n    }\n    \n    createUI(){\n       return this.state.members.map((el, i) => (\n         <div key={i}>\n              <input placeholder=\"John Smith\" name=\"name\" value={el.name ||''} onChange={this.handleChange.bind(this, i)} />\n            <input placeholder=\"+1##########\" name=\"number\" value={el.number ||''} onChange={this.handleChange.bind(this, i)} />\n              <input type='button' value='remove' onClick={this.removeClick.bind(this, i)}/>\n         </div>          \n       ))\n    }\n\n    createUIDChores(){  \n      return this.state.chores.map((el, i) => (i===0 ? (<div key={i}><input placeholder=\"Chores\" name=\"chores\" value=\"Organizer\"/></div>): (<div key={i}><input placeholder=\"Chores\" name=\"chores\" value={el} onChange={this.handleChangeChores.bind(this, i)} /></div>)))\n     }\n    \n    handleChange(i, e) {\n         const { name, value } = e.target;\n       let members = [...this.state.members];\n       members[i] = {...members[i], [name]: value};\n       this.setState({ members });\n    }\n    handleChangeChores(i, e) {\n        const {  value } = e.target;\n      let chores = [...this.state.chores];\n      chores[i] = {...chores[i], value};\n      this.setState({ chores });\n   }\n    handleHouseNameChange(e) {\n        this.setState({houseName: e.target.value});\n    }\n    \n    removeClick(i){\n       let members = [...this.state.members];\n       members.splice(i, 1);\n       let chores = [...this.state.chores];\n       chores.splice(i,1);\n       this.setState({ members, chores});\n    }\n    \n    handleSubmit(event) {\n      event.preventDefault();\n      console.log(this.state);\n        axios.post(\"http://localhost:4000/createGroup\", this.state)\n        .then((response) => {\n            this.setState({ errors: [] });\n            //setInterval for every week\n            setInterval(() => {\n                axios.put(\"http://localhost:4000/updateHead\")\n                .then((response) => {\n                \n                })\n            }, 604800000);\n\n            //setInterval for every day\n            setInterval(() => {\n            axios.get(\"http://localhost:4000/sendChores\")\n            .then((response) => {\n              //all good and text shouldve sent\n            })\n            }, 864000);\n            console.log(response);\n\n            if(response.status === 200 && response.data === \"OK\" && window) {\n                console.log(\"redirecting to homepage\");\n                this.setState({ members: [], chores: []});\n                window.location.href = \"/\"; \n            } else {\n                this.setState({ errors: response.data });\n                console.log(this.state);\n            }\n        })\n        .catch(err => console.log(err.data))\n    }\n  \n    render() {\n        const{houseName} = this.state;\n      return (\n        <form onSubmit={this.handleSubmit}>\n            {/* <div>Please submit your Household Name</div>\n            <input placeholder=\"Household Name\" name=\"houseName\" value={houseName} onChange={this.handleHouseNameChange.bind(this)} /> */}\n            <div>Add all household members' name and number</div>\n            {this.createUI()}        \n            <input type='button' value='add more' onClick={this.addClick.bind(this)}/>\n            <div>For the first chore box please input \"Organizer\"</div>\n            <div>Evenly split chores into n-1 groups for the other boxes</div>\n            {this.createUIDChores()} \n            <input type=\"submit\" value=\"Submit\" />\n        </form>\n      );\n    }\n  }\n  \n\nexport default createGroupForm;"]},"metadata":{},"sourceType":"module"}